cat > ./wsjtx-compile.sh <<EOL
#!/usr/bin/env bash

# Part of the WSJT Documentation Project
# Usage:  chmod +x ./wsjtx-compile.sh && ./wsjtx-compile.sh 

set -e
BASEDIR="$HOME/Projects/wsjtx-build"
mkdir -p "$BASEDIR" && cd "$BASEDIR"

# CHECKOUT WSJT-X
clear && echo 'Getting Latest WSJT-X Version'
svn co svn://svn.berlios.de/wsjt/branches/wsjtx
cd ./wsjtx
rev_num=$(svn log -l1 |awk 'FNR==2 {print $1}')

# MAIKEFILE
cd ./lib
make -f Makefile.linux

# QMAKE && MAKE
cd ../
export QT_SELECT=qt5 
qmake
j_c=$(grep -c ^processor /proc/cpuinfo) 
make -j$j_c

# MOVE WSJT-X FOLDER
cd "$BASEDIR"
mv ./wsjtx_install ./wsjtx-$rev_num
cd ./wsjtx-$rev_num

# COPY FILES
cp ../wsjtx/*.dat ../wsjtx/*.txt ./
cp -R ../wsjtx/Palettes/ ../wsjtx/samples/ ./
rm ./CMake*

# DOWNLOAD KVASD
wget http://www.physics.princeton.edu/pulsar/K1JT/kvasd
chmod +x ./kvasd

# CLEAN-UP
rm -rf ../wsjtx
clear
echo WSJTX-$rev_num Build Complete
echo
exit 0
EOL

