# Makefile for WSPR Documentation - Linux
# Re-direct stdout and stderr:		bash
#					make >& junk
#
# Prerequisites: Asciidoc, A2x, Python2 ( > =2.5 < 3.0 ) 

# Program Infomation
PROGRAM		:=	@PROGRAM@
VERSION		:=	@VERSION@
ASCIIDOC	:=	@ASCIIDOC@
PYTHON2		:=	@PYTHON2@
DOCSRC		:=	@DOCSRC@
DOCCONF		:=	@DOCCONF@
THEMEDIR	:=	@THEMEDIR@
RM			:=	@RM@

all: docs

# Build Docs
docs:
	@$(PYTHON2) $(ASCIIDOC) -a data-uri -a toc2 -a max-width=1024px \
	--conf-file=$(DOCCONF) \
	--backend=xhtml11 \
	--theme wspr \
	--out-file=wspr-main-@VERSION@.html user_guide/wspr-main.adoc

# Cleanup Source Tree
.PHONY: clean
clean:
	$(RM) -f ./wspr-main-@VERSION@.html
